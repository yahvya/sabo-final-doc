<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF" data-resizable-sidebar="true"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-08-12T00:33:17.9431881"><title>Base de donn&eacute;es | Sabo Framework</title><script type="application/json" id="virtual-toc-data">[{"id":"configuration-de-la-base-de-donn-es","level":0,"title":"Configuration de la base de données","anchor":"#configuration-de-la-base-de-donn-es"},{"id":"les-models","level":0,"title":"Les models","anchor":"#les-models"},{"id":"les-attributs-de-description","level":0,"title":"Les attributs de description","anchor":"#les-attributs-de-description"},{"id":"les-conditions-d-affectation","level":0,"title":"Les conditions d\u0027affectation","anchor":"#les-conditions-d-affectation"},{"id":"les-utilitaires-de-formatage-de-donn-es","level":0,"title":"Les utilitaires de formatage de données","anchor":"#les-utilitaires-de-formatage-de-donn-es"},{"id":"les-types-personnalis-s","level":0,"title":"Les types personnalisés","anchor":"#les-types-personnalis-s"},{"id":"les-hooks","level":0,"title":"Les hooks","anchor":"#les-hooks"},{"id":"les-m-thodes-par-d-faut","level":0,"title":"Les méthodes par défaut","anchor":"#les-m-thodes-par-d-faut"},{"id":"g-n-rer-le-sql-de-cr-ation-d-un-model","level":0,"title":"Générer le SQL de création d\u0027un model","anchor":"#g-n-rer-le-sql-de-cr-ation-d-un-model"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.css" rel="stylesheet"><link rel="icon" type="image/x-icon" sizes="16x16" href="images/sabo-icon.ico"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Base de donn&eacute;es | Sabo Framework"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Sabo Framework Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/database-description.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Base de donn&eacute;es | Sabo Framework"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/database-description.html#webpage",
    "url": "writerside-documentation/database-description.html",
    "name": "Base de donn&eacute;es | Sabo Framework",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Sabo Framework Help"
}</script><!-- End Schema.org --></head><body data-id="database_description" data-main-title="Base de données" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="starter-topic.md|Framework Sabo"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Sabo Framework  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="database_description" id="database_description.md">Base de données</h1><aside class="prompt" data-type="tip" data-title="" id="c4qprs_3"><p id="c4qprs_13">Le framework embarque un mini ORM permettant l'interaction avec la base de donn&eacute;es. Le syst&egrave;me par d&eacute;faut int&eacute;gr&eacute; se base sur MYSQL, mais la structure est fa&icirc;tes de mani&egrave;re &agrave; pouvoir impl&eacute;menter un syst&egrave;me personnalis&eacute;.</p></aside><section class="chapter"><h2 id="configuration-de-la-base-de-donn-es" data-toc="configuration-de-la-base-de-donn-es">Configuration de la base de donn&eacute;es</h2><p id="c4qprs_14">La configuration de la base de donn&eacute;es se base sur le fichier d'environnement <code class="code" id="c4qprs_16">src/configs/env.php</code> au niveau de <code class="code" id="c4qprs_17">// configuration de la base de donn&eacute;es</code>.</p><ul class="list _bullet" id="c4qprs_15"><li class="list__item" id="c4qprs_18"><p>Mettre le bool&eacute;en d'initialisation &agrave; <code class="code" id="c4qprs_21">true</code>, permet de sp&eacute;cifier &agrave; l'&eacute;tape de routing de lancer la gestion de la base de donn&eacute;es</p></li><li class="list__item" id="c4qprs_19"><p>Sp&eacute;cifier le provider, une class qui extends de <code class="code" id="c4qprs_22">SaboCore\Database\Default\Provider\DatabaseProvider</code> (par d&eacute;faut <code class="code" id="c4qprs_23">MysqlProvider</code>) permet d'avoir une class pouvant se charger d'initialiser les outils requis.</p></li><li class="list__item" id="c4qprs_20"><p>Sp&eacute;cifier les donn&eacute;es de connexion</p></li></ul></section><section class="chapter"><h2 id="les-models" data-toc="les-models">Les models</h2><aside class="prompt" data-type="tip" data-title="" id="c4qprs_24"><p id="c4qprs_27">Un model dans le contexte de <span class="emphasis" id="c4qprs_28">sabo</span> est une class permettant de repr&eacute;senter sous forme de code PHP une table / une vue de la base de donn&eacute;es. Cette description passe via une <a href="#les-attributs-de-description" id="c4qprs_29" data-tooltip="TableName attribut associé à la class permettant de spécifier le nom de la table représentée">liste d'attributs</a>.</p></aside><p id="c4qprs_25">Les models sont charg&eacute;s par d&eacute;faut dans le dossier <code class="code" id="c4qprs_30">src/models</code> et extends de la class <code class="code" id="c4qprs_31">CustomModel</code> servant d'interm&eacute;diaire avec le framework.</p><p id="c4qprs_26">Cette class permet &eacute;galement de d&eacute;finir des m&eacute;thodes personnalis&eacute;es pour les models.</p></section><section class="chapter"><h2 id="les-attributs-de-description" data-toc="les-attributs-de-description">Les attributs de description</h2><aside class="prompt" data-type="note" data-title="" id="c4qprs_32"><p>Ces attributs servent &agrave; d&eacute;crire les diff&eacute;rents &eacute;l&eacute;ments de la class, afin de les associer &agrave; la base de donn&eacute;es et se situent dans le namespace <code class="code" id="c4qprs_35">SaboCore\Database\Default\Attributes</code></p></aside><ul class="list _bullet" id="c4qprs_33"><li class="list__item" id="c4qprs_36"><p id="c4qprs_40"><code class="code" id="c4qprs_41">TableName</code> attribut associ&eacute; &agrave; la class permettant de sp&eacute;cifier le nom de la table repr&eacute;sent&eacute;e</p></li><li class="list__item" id="c4qprs_37"><p id="c4qprs_42"><code class="code" id="c4qprs_44">Binary|Bool|Char|Decimal|Enum|Int|Json|Text|TinyInt|VarBinary|Varchar</code> avec comme suffixe <code class="code" id="c4qprs_45">Column</code>. Ces types permettent de mapper les diff&eacute;rentes colonnes possibles sur un type <code class="code" id="c4qprs_46">Mysql</code>. <span class="emphasis" id="c4qprs_47">R&eacute;f&eacute;rez-vous aux param&egrave;tres et commentaires de ces fonctions</span></p><div class="code-block" data-lang="php">
  use SaboCore\Database\Default\Attributes\VarcharColumn; 
  #[VarcharColumn(columnName: &quot;user_name&quot;,maxLen: 255,)]
  protected string $username;
</div></li><li class="list__item" id="c4qprs_38"><p id="c4qprs_48"><code class="code" id="c4qprs_51">TimestampColumn</code> ce type sp&eacute;cial du framework (bien qu'existant sur MYSQL) sert de passage pour toutes donn&eacute;es de temps (datetime, time ...) via timestamp. Le type associ&eacute; derri&egrave;re est un <code class="code" id="c4qprs_52">INT</code>. Un &eacute;l&eacute;ment portant cet attribut doit utiliser le type customis&eacute; <code class="code" id="c4qprs_53">Timestamp</code>.</p><div class="code-block" data-lang="php">
      use SaboCore\Database\Default\Attributes\TimestampColumn;
      use SaboCore\Database\Default\CustomDatatypes\Timestamp;
      use Override;
      #[TimestampColumn(columnName: &quot;joined_at&quot;)]
      protected Timestamp $joinedAt;
      #[Override]
      protected function beforeCreate(mixed $datas = []): self{
          parent::beforeCreate();
          $this-&gt;joinedAt = new Timestamp();
          return $this;
      }
  </div><p> ou </p><div class="code-block" data-lang="php">
      use SaboCore\Database\Default\Attributes\TimestampColumn;
      use SaboCore\Database\Default\CustomDatatypes\Timestamp;
      #[TimestampColumn(columnName: &quot;joined_at&quot;)]
      protected Timestamp $joinedAt = new Timestamp();
  </div></li><li class="list__item" id="c4qprs_39"><p id="c4qprs_54"><code class="code" id="c4qprs_57">JoinedColumn</code> ce type sp&eacute;cial permet de repr&eacute;senter une jointure entre deux tables. Un &eacute;l&eacute;ment portant cet attribut doit &ecirc;tre associ&eacute; au type <code class="code" id="c4qprs_58">SaboList</code> des utilitaires qui contiendra la liste des &eacute;l&eacute;ments associ&eacute;s.</p><div class="code-block" data-lang="php">
      use SaboCore\Database\Default\Attributes\JoinedColumn;
      use SaboCore\Database\Default\CustomDatatypes\JoinedList;
      #[JoinedColumn(
          classModel: BannedUserModel::class,
          joinConfig: [&quot;id&quot; =&gt; &quot;userId&quot;]
      )]
      protected JoinedList $bannedUsers;
  </div><ul class="list _bullet" id="c4qprs_56"><li class="list__item" id="c4qprs_59"><p id="c4qprs_62">Le param&egrave;tre <code class="code" id="c4qprs_63">classModel</code> repr&eacute;sente la class de table associ&eacute;e</p></li><li class="list__item" id="c4qprs_60"><p id="c4qprs_64">Le param&egrave;tre <code class="code" id="c4qprs_65">joinConfig</code> ce tableau permet de d&eacute;finir les cl&eacute;s de jointures. Il est indic&eacute; par le nom des attributs de la class actuelle pointant sur le nom des attributs de la class li&eacute;e. <span class="emphasis" id="c4qprs_66">Cette structure permet la liaison via de multiples attributs</span></p></li><li class="list__item" id="c4qprs_61"><p id="c4qprs_67">Le troisi&egrave;me param&egrave;tre <code class="code" id="c4qprs_69">loadOnGeneration</code> permet de d&eacute;finir si les models li&eacute;s doivent &ecirc;tre charg&eacute;s automatiquement &agrave; la g&eacute;n&eacute;ration du model. <span class="emphasis" id="c4qprs_70">Cel&agrave; permet notamment d'&eacute;viter le chargement infini entre deux models.</span></p><aside class="prompt" data-type="note" data-title="" id="c4qprs_68"><p>Dans le cas o&ugrave; le chargement se veut manuel, la cr&eacute;ation d'une nouvelle instance <code class="code" id="c4qprs_71">new JoinedColumn()-&gt;loadContent()</code>.</p></aside></li></ul></li></ul><aside class="prompt" data-type="note" data-title="" id="c4qprs_34"><p>Pour cr&eacute;er un nouvel attribut il vous faut cr&eacute;er une class qui extends de <code class="code" id="c4qprs_72">SaboCore\Database\Default\Attributes\TableColumn</code> dont les m&eacute;thodes et le constructeur peuvent &ecirc;tre red&eacute;finies au besoin. Se baser sur un type existant est recommand&eacute;.</p></aside></section><section class="chapter"><h2 id="les-conditions-d-affectation" data-toc="les-conditions-d-affectation">Les conditions d'affectation</h2><aside class="prompt" data-type="tip" data-title="" id="c4qprs_73"><p id="c4qprs_77">Les conditions d'affectation permettent d'ajouter des barri&egrave;res &agrave; passer lors de l'affectation d'une valeur sur un attribut li&eacute; &agrave; une colonne. Ces conditions peuvent &ecirc;tre pos&eacute;es via chaque attribut de description. Elles doivent toutes &ecirc;tre valid&eacute;es afin que l'affection op&egrave;re. &Agrave; l'&eacute;chec d'une condition une exception est lev&eacute;e avec le message d'erreur associ&eacute;.</p></aside><p id="c4qprs_74">Les conditions par d&eacute;faut se situent dans le namespace <code class="code" id="c4qprs_78">SaboCore\Database\Default\Conditions</code>.</p><ul class="list _bullet" id="c4qprs_75"><li class="list__item" id="c4qprs_79"><p><code class="code" id="c4qprs_86">RegexCond</code> permet d'associer une regex pour valider la donn&eacute;e fournie.</p></li><li class="list__item" id="c4qprs_80"><p><code class="code" id="c4qprs_87">LenCond</code> permet d'associer une limitation en taille sur une donn&eacute;e de type <code class="code" id="c4qprs_88">chaine</code>.</p></li><li class="list__item" id="c4qprs_81"><p><code class="code" id="c4qprs_89">JsonValidityCond</code> permet de v&eacute;rifier que la donn&eacute;e est un tableau pour la conversion json.</p></li><li class="list__item" id="c4qprs_82"><p><code class="code" id="c4qprs_90">FilterCond</code> permet d'appliquer une v&eacute;rification <code class="code" id="c4qprs_91">filter_var</code></p></li><li class="list__item" id="c4qprs_83"><p><code class="code" id="c4qprs_92">EnumValidity</code> permet de v&eacute;rifier que la donn&eacute;e est accept&eacute;e dans l'&eacute;num&eacute;ration li&eacute;</p></li><li class="list__item" id="c4qprs_84"><p><code class="code" id="c4qprs_93">DatetimeCond</code> v&eacute;rifie que la chaine fournie est une <code class="code" id="c4qprs_94">Datetime</code> correcte.</p></li><li class="list__item" id="c4qprs_85"><p><code class="code" id="c4qprs_95">CallableCond</code> permet d'appeler une condition encapsul&eacute;e dans une m&eacute;thode statique</p></li></ul><aside class="prompt" data-type="note" data-title="" id="c4qprs_76"><p>Pour cr&eacute;er une nouvelle condition personnalis&eacute;e, veuillez cr&eacute;er une class impl&eacute;mentant l'interface <code class="code" id="c4qprs_96">SaboCore\Database\Default\Conditions\Cond</code>.</p></aside></section><section class="chapter"><h2 id="les-utilitaires-de-formatage-de-donn-es" data-toc="les-utilitaires-de-formatage-de-donn-es">Les utilitaires de formatage de donn&eacute;es</h2><aside class="prompt" data-type="tip" data-title="" id="c4qprs_97"><p id="c4qprs_101">Le formatage de donn&eacute;e permet d'ajouter une couche d'abstraction entre le format fourni et r&eacute;cup&eacute;r&eacute;. Les utilitaires de formatage bien qu'ayant la m&ecirc;me structure se distinguent en deux groupes : <span class="emphasis" id="c4qprs_102"><span class="control" id="c4qprs_104">reformer</span></span> groupe qui permet &agrave; partir de la donn&eacute;e stock&eacute;e de formater &agrave; la r&eacute;cup&eacute;ration, <span class="emphasis" id="c4qprs_103"><span class="control" id="c4qprs_105">formater</span></span> formater une donn&eacute;e avant de la stocker dans l'attribut. Ces conditions peuvent &ecirc;tre pos&eacute;es via chaque attribut de description.</p></aside><p id="c4qprs_98">Les 'formater' par d&eacute;faut se trouvent dans le namespace <code class="code" id="c4qprs_106">SaboCore\Database\Default\Formatters</code>.</p><ul class="list _bullet" id="c4qprs_99"><li class="list__item" id="c4qprs_107"><p><code class="code" id="c4qprs_109">JsonFormatter</code> formate un tableau en chaine json pour le stockage en base de donn&eacute;es.</p></li><li class="list__item" id="c4qprs_108"><p><code class="code" id="c4qprs_110">JsonReformer</code> reformate une chaine json format&eacute;e en tableau.</p></li></ul><aside class="prompt" data-type="note" data-title="" id="c4qprs_100"><p>Pour cr&eacute;er un nouveau formater, veuillez cr&eacute;er une class impl&eacute;mentant l'interface <code class="code" id="c4qprs_111">SaboCore\Database\Default\Formatters\Formater</code></p></aside></section><section class="chapter"><h2 id="les-types-personnalis-s" data-toc="les-types-personnalis-s">Les types personnalis&eacute;s</h2><aside class="prompt" data-type="tip" data-title="" id="c4qprs_112"><p id="c4qprs_115">Les types customis&eacute;s mentionn&eacute;s plus haut, sont associ&eacute; &agrave; des types d'attributs particuliers. L'attribut est donc l'&eacute;l&eacute;ment qui d&eacute;fini le type &agrave; utiliser.</p></aside><ul class="list _bullet" id="c4qprs_113"><li class="list__item" id="c4qprs_116"><p><code class="code" id="c4qprs_118">JoinedList</code> li&eacute; &agrave; <code class="code" id="c4qprs_119">JoinedColumn</code></p></li><li class="list__item" id="c4qprs_117"><p><code class="code" id="c4qprs_120">Timestamp</code> li&eacute; &agrave; <code class="code" id="c4qprs_121">TimestampColumn</code></p></li></ul><aside class="prompt" data-type="note" data-title="" id="c4qprs_114"><p>Pour cr&eacute;er un type customis&eacute;, il suffit de cr&eacute;er une class, pour pouvoir l'utiliser, il faut &eacute;galement cr&eacute;er un nouvel attribut de description de colonne qui attendra une donn&eacute;e du type de la class cr&eacute;&eacute;e.</p></aside></section><section class="chapter"><h2 id="les-hooks" data-toc="les-hooks">Les hooks</h2><aside class="prompt" data-type="tip" data-title="" id="c4qprs_122"><p id="c4qprs_126">Les hooks sont des m&eacute;thodes appell&eacute;s &agrave; des moments pr&eacute;cis du cycle de vie d'un model (des &eacute;v&egrave;nements). Red&eacute;finir ces m&eacute;thodes permet d'intercepter et d'effectuer les actions &agrave; l'appel de ces &eacute;v&egrave;nements.</p></aside><aside class="prompt" data-type="warning" data-title="" id="c4qprs_123"><p>Pensez &agrave; appeler les m&eacute;thodes parentes, lors des red&eacute;finitions <code class="code" id="c4qprs_127">parent::beforeCreate();</code></p></aside><p id="c4qprs_124">L'&eacute;num&eacute;ration <code class="code" id="c4qprs_128">SaboCore\Database\System\DatabaseActions</code> liste les hooks impl&eacute;ment&eacute;es par les syst&egrave;mes.</p><ul class="list _bullet" id="c4qprs_125"><li class="list__item" id="c4qprs_129"><p><code class="code" id="c4qprs_133">[before|after]Create</code> actions pre et post cr&eacute;ation</p></li><li class="list__item" id="c4qprs_130"><p><code class="code" id="c4qprs_134">[before|after]Update</code> actions pre et post mise &agrave; jour</p></li><li class="list__item" id="c4qprs_131"><p><code class="code" id="c4qprs_135">[before|after]Delete</code> actions pre et post suppression</p></li><li class="list__item" id="c4qprs_132"><p><code class="code" id="c4qprs_136">[before|after]Generation</code> actions pre et post g&eacute;n&eacute;ration du model. <span class="emphasis" id="c4qprs_137">L'&eacute;tape de g&eacute;n&eacute;ration consiste &agrave; l'affectation des valeurs de la base de donn&eacute;es et autres actions de cr&eacute;ation du model</span>.</p></li></ul></section><section class="chapter"><h2 id="les-m-thodes-par-d-faut" data-toc="les-m-thodes-par-d-faut">Les m&eacute;thodes par d&eacute;faut</h2><aside class="prompt" data-type="tip" data-title="" id="c4qprs_138"><p id="c4qprs_143">En plus des hooks certaines m&eacute;thodes utilitaires sont impl&eacute;ment&eacute;es par d&eacute;faut.</p></aside><p id="c4qprs_139"><span class="control" id="c4qprs_144">Cette liste ne contient pas toutes les m&eacute;thodes d&eacute;finies, seulement les plus utiles.</span></p><ul class="list _bullet" id="c4qprs_140"><li class="list__item" id="c4qprs_145"><p><code class="code" id="c4qprs_150">create</code> enregistre le model</p></li><li class="list__item" id="c4qprs_146"><p><code class="code" id="c4qprs_151">update</code> met &agrave; jour le model (bas&eacute; sur les &eacute;l&eacute;ments d&eacute;clar&eacute;s comme cl&eacute;s primaires)</p></li><li class="list__item" id="c4qprs_147"><p><code class="code" id="c4qprs_152">delete</code> supprime le model (bas&eacute; sur les &eacute;l&eacute;ments d&eacute;clar&eacute;s comme cl&eacute;s primaires)</p></li><li class="list__item" id="c4qprs_148"><p><code class="code" id="c4qprs_153">findOne</code> m&eacute;thode statique permettant de r&eacute;cup&eacute;rer un seul &eacute;l&eacute;ment matchant les conditions</p></li><li class="list__item" id="c4qprs_149"><p><code class="code" id="c4qprs_154">findAll</code> m&eacute;thode statique permettant de r&eacute;cup&eacute;rer les &eacute;l&eacute;ments matchant les conditions</p></li></ul><aside class="prompt" data-type="note" data-title="" id="c4qprs_141"><p>Les fonctions <code class="code" id="c4qprs_155">findOne</code> et <code class="code" id="c4qprs_156">findAll</code> se basent sur la m&ecirc;me logique de construction de requ&ecirc;te que le <code class="code" id="c4qprs_157">QueryBuilder</code></p></aside><ul class="list _bullet" id="c4qprs_142"><li class="list__item" id="c4qprs_158"><p id="c4qprs_177"><code class="code" id="c4qprs_178">setAttribute</code> met &agrave; jour la valeur d'un attribut en v&eacute;rifiant en amont les conditions associ&eacute;es puis en appliquant les formateurs associ&eacute;s</p></li><li class="list__item" id="c4qprs_159"><p id="c4qprs_179"><code class="code" id="c4qprs_180">getAttribute</code> r&eacute;cup&egrave;re la donn&eacute;e d'un attribut en appliquant les reformers associ&eacute;s</p></li><li class="list__item" id="c4qprs_160"><p id="c4qprs_181"><code class="code" id="c4qprs_182">getAttributeOriginal</code> permet de r&eacute;cup&eacute;rer la valeur originale stock&eacute;e sans reformer</p></li><li class="list__item" id="c4qprs_161"><p id="c4qprs_183"><code class="code" id="c4qprs_184">getColumnsConfig</code> fourni la configuration r&eacute;cup&eacute;r&eacute;e des colonnes.</p></li><li class="list__item" id="c4qprs_162"><p id="c4qprs_185"><code class="code" id="c4qprs_186">getColumnConfig</code> fourni la configuration d'une colonne particuli&egrave;re via le nom de l'attribut de class associ&eacute;</p></li><li class="list__item" id="c4qprs_163"><p id="c4qprs_187"><code class="code" id="c4qprs_188">getJoinedColumnsConfig</code> fourni la configuration des colonnes de jointure</p></li><li class="list__item" id="c4qprs_164"><p id="c4qprs_189"><code class="code" id="c4qprs_190">getTableNameManager</code> fourni une instance de l'attribut <code class="code" id="c4qprs_191">TableName</code> du nom de la table</p></li><li class="list__item" id="c4qprs_165"><p id="c4qprs_192"><code class="code" id="c4qprs_193">getAsArray</code> enregistre les donn&eacute;es de la class dans un tableau indic&eacute; par le nom d'attribut de class</p></li><li class="list__item" id="c4qprs_166"><p id="c4qprs_194"><code class="code" id="c4qprs_196">setAttributesOriginalValues</code> met &agrave; jour le tableau des valeurs originales</p><aside class="prompt" data-type="warning" data-title="" id="c4qprs_195"><p>Ne mets pas &agrave; jour les valeurs dans la class</p></aside></li><li class="list__item" id="c4qprs_167"><p id="c4qprs_197"><code class="code" id="c4qprs_198">lastInsertId</code> fourni le dernier id ins&eacute;r&eacute; (peut &ecirc;tre utile notamment pour l'affectation des cl&eacute;s primaires apr&egrave;s insertion)</p></li><li class="list__item" id="c4qprs_168"><p id="c4qprs_199"><code class="code" id="c4qprs_200">createFromDatabaseLine</code> g&eacute;n&egrave;re un model &agrave; partir d'une ligne de la base de donn&eacute;es <span class="emphasis" id="c4qprs_201">(via fetch)</span></p></li><li class="list__item" id="c4qprs_169"><p id="c4qprs_202"><code class="code" id="c4qprs_203">createFromDatabaseLines</code> g&eacute;n&egrave;re les models &agrave; partir des lignes de la base de donn&eacute;es <span class="emphasis" id="c4qprs_204">(via fetch)</span></p></li><li class="list__item" id="c4qprs_170"><p id="c4qprs_205"><code class="code" id="c4qprs_206">createFromDatabaseLines</code> g&eacute;n&egrave;re les models &agrave; partir des lignes de la base de donn&eacute;es <span class="emphasis" id="c4qprs_207">(via fetch)</span></p></li><li class="list__item" id="c4qprs_171"><p id="c4qprs_208"><code class="code" id="c4qprs_209">newInstanceOfModel</code> g&eacute;n&egrave;re une nouvelle instance du model &agrave; partir de la class fournie</p></li><li class="list__item" id="c4qprs_172"><p id="c4qprs_210"><code class="code" id="c4qprs_211">execQuery</code> ex&eacute;cute une requ&ecirc;te via le constructeur de requ&ecirc;te</p></li><li class="list__item" id="c4qprs_173"><p id="c4qprs_212"><code class="code" id="c4qprs_213">loadJoinedColumns</code> charge les colonnes jointes</p></li><li class="list__item" id="c4qprs_174"><p id="c4qprs_214"><code class="code" id="c4qprs_215">createModelFromLine</code> g&eacute;n&egrave;re un nouveau model &agrave; partir d'une ligne directe (sous forme de tableau) de la base de donn&eacute;es</p></li><li class="list__item" id="c4qprs_175"><p id="c4qprs_216"><code class="code" id="c4qprs_217">buildPrimaryKeysCondOn</code> ajoute les conditions de cl&eacute;s primaires sur un constructeur de requ&ecirc;te</p></li><li class="list__item" id="c4qprs_176"><p id="c4qprs_218"><code class="code" id="c4qprs_219">getDatabaseConfig</code> fournie la configuration sous forme de class <code class="code" id="c4qprs_220">Config</code> de base de donn&eacute;es d&eacute;finie dans l'environnement</p></li></ul></section><section class="chapter"><h2 id="g-n-rer-le-sql-de-cr-ation-d-un-model" data-toc="g-n-rer-le-sql-de-cr-ation-d-un-model">G&eacute;n&eacute;rer le SQL de cr&eacute;ation d'un model</h2><aside class="prompt" data-type="tip" data-title="" id="c4qprs_221"><p id="c4qprs_223">L'utilitaire de g&eacute;n&eacute;ration permet &agrave; partir d'une instance d'un mod&egrave;le, de g&eacute;n&eacute;rer le SQL de cr&eacute;ation de la table</p></aside><div class="code-block" data-lang="php">
&lt;?php
use SaboCore\Database\Default\System\MysqlTableCreator;
echo MysqlTableCreator::getTableCreationFrom(model: new YourModelInstance);
</div></section><div class="last-modified">Last modified: 11 août 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="treatments-classes.html" class="navigation-links__prev">Class de traitement</a><a href="customized-request.html" class="navigation-links__next">Construction de requ&ecirc;tes customis&eacute;es</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.js"></script></body></html>